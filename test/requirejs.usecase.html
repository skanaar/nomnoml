<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>test nomnoml</title>
  <link rel="shortcut icon" type="image/png" href="favicon.png">
  <script src="../lib/require.js"></script>
</head>
<body>
    <script id="noml" type="text/plain">
        [Pirate|eyeCount: Int|raid();pillage()|
            [beard]--[parrot]
            [beard]-:>[foul mouth]
        ]

        [<abstract>Marauder]<:--[Pirate]
        [Pirate]- 0..7[mischief]
        [jollyness]->[Pirate]
        [jollyness]->[rum]
        [jollyness]->[singing]
        [Pirate]-> *[rum|tastiness: Int|swig()]
        [Pirate]->[singing]
        [singing]<->[rum]

        [<start>st]->[<state>plunder]
        [plunder]->[<choice>more loot]
        [more loot]->[st]
        [more loot] no ->[<end>e]
    </script>
    <canvas id="target-canvas"></canvas>
    <script>
        require.config({
            baseUrl: '../lib',
            paths: {
              lodash: '../lib/lodash.min',
              dagre: '../lib/dagre.min'
            }
        });
        require(['../dist/nomnoml'], function (nomnoml) {
            var canvas = document.getElementById('target-canvas');
            var noml = document.getElementById('noml').innerHTML;
            nomnoml.draw(canvas, noml);
        });
    </script>
</body>
</html>
